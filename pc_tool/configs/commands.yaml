mem_types:
  RAM: 0
  FLASH: 1
  EEPROM: 2

commands:
  READ_MEM:
    id: 0x01
    description: "Read n bytes from memory (RAM, FLASH, EEPROM, etc.)"
    params:
      - { name: "mem_type", type: "str" }   # 0=RAM, 1=FLASH, 2=EEPROM
      - { name: "address", type: "uint32" }
      - { name: "len", type: "uint32" }

  WRITE_MEM:
    id: 0x02
    description: "Write n bytes to memory (RAM, FLASH, EEPROM, etc.)"
    params:
      - { name: "mem_type", type: "str" }   # 0=RAM, 1=FLASH, 2=EEPROM
      - { name: "address", type: "uint32" }
      - { name: "len", type: "uint32" }
      - { name: "data", type: "bytes" }

  READ_REG:
    id: 0x03
    description: "Read MCU register at given address"
    params:
      - { name: "address", type: "uint32" }

  WRITE_REG:
    id: 0x04
    description: "Write value to MCU register at given address"
    params:
      - { name: "address", type: "uint32" }
      - { name: "data", type: "uint32" }

  PING:
    id: 0x05
    description: "Check communication link (MCU should respond with ACK)"

  RESET:
    id: 0x06
    description: "Reset the device"

  EXIT:
    id: 0x07
    description: "Exit the program (PC-side only)"

  HELP:
    id: 0x08
    description: "Show this help message (PC-side only)"
